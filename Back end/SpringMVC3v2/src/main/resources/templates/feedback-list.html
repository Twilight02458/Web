<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Phแบฃn รกnh cฦฐ dรขn</title>
    <th:block th:replace="base :: bootstrap"></th:block>
</head>
<body>
<div th:replace="base :: header"></div>

<div class="container mt-5">
    <h3 class="mb-4 text-primary">๐ข Danh sรกch phแบฃn รกnh cแปงa cฦฐ dรขn</h3>

    <!-- Flash Message -->
    <div th:if="${msg}" class="alert alert-success alert-dismissible fade show" role="alert">
        <span th:text="${msg}"></span>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="ฤรณng"></button>
    </div>

    <!-- Khรดng cรณ phแบฃn รกnh -->
    <div th:if="${feedbacks.isEmpty()}">
        <div class="alert alert-info">Hiแปn khรดng cรณ phแบฃn รกnh nรo tแปซ cฦฐ dรขn.</div>
    </div>

    <!-- Danh sรกch phแบฃn รกnh -->
    <div th:each="fb : ${feedbacks}" class="card border-primary mb-3 shadow-sm">
        <div class="card-body">
            <div class="mb-2 text-muted small">
                ๐ค <strong th:text="${fb.userId.username}"></strong>
                &nbsp;&bull;&nbsp;
                ๐ <span th:text="${#dates.format(fb.createdAt, 'dd/MM/yyyy HH:mm')}"></span>
            </div>

            <h5 class="card-title" th:text="${fb.title}"></h5>
            <p class="card-text" th:text="${fb.content}"></p>

            <form th:action="@{/admin/feedback/delete/{id}(id=${fb.id})}" method="post" onsubmit="return confirm('Bแบกn cรณ chแบฏc muแปn xรณa phแบฃn รกnh nรy khรดng?');">
                <button type="submit" class="btn btn-outline-danger btn-sm">โ ฤรฃ xแปญ lรฝ / Xรณa</button>
            </form>
        </div>
    </div>
</div>

<div th:replace="base :: footer"></div>
</body>
</html>
