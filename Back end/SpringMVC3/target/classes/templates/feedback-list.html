<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Phản ánh cư dân</title>
    <th:block th:replace="base :: bootstrap"></th:block>
</head>
<body>
<div th:replace="base :: header"></div>

<div class="container mt-5">
    <h3>Danh sách phản ánh của cư dân</h3>

    <!-- Flash Message -->
    <div th:if="${msg}" class="alert alert-success" th:text="${msg}"></div>

    <!-- Không có phản ánh -->
    <div th:if="${feedbacks.isEmpty()}">
        <p class="text-muted">Không có phản ánh nào.</p>
    </div>

    <!-- Danh sách phản ánh -->
    <div th:each="fb : ${feedbacks}" class="card mb-3">
        <div class="card-body">
            
            <h6 class="card-subtitle mb-2 text-muted">
                <strong th:text="${fb.userId.username}"></strong> -
                <span th:text="${#dates.format(fb.createdAt, 'dd/MM/yyyy HH:mm')}"></span>
            </h6>
            <h5 class="card-title" th:text="${fb.title}"></h5>
            <p class="card-text" th:text="${fb.content}"></p>
            <form th:action="@{/admin/feedback/delete/{id}(id=${fb.id})}" method="post">          
                <button type="submit" class="btn btn-danger btn-sm">Đã xử lý / Xóa</button>
            </form>
        </div>
    </div>
</div>

<div th:replace="base :: footer"></div>
</body>
</html>
